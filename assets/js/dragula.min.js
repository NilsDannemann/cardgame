"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function r(i,o,a){function c(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,r,i,o,a)}return o[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,t,n){function r(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp(o+e+a,"g"),t}var i={},o="(?:^|\\s)",a="(?:\\s|$)";t.exports={add:function(e,t){var n=e.className;n.length?r(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(r(t)," ").trim()}}},{}],2:[function(e,t,n){(function(i){function k(e,t,n,r){i.navigator.pointerEnabled?J[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],r):i.navigator.msPointerEnabled?J[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],r):(J[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],r),J[t](e,n,r))}function D(e){return void 0!==e.touches?e.touches.length:void 0!==e.which&&0!==e.which?e.which:void 0!==e.buttons?e.buttons:void 0!==(e=e.button)?1&e?1:2&e?3:4&e?2:0:void 0}function F(e,t){return void 0!==i[t]?i[t]:(ee.clientHeight?ee:Z.body)[e]}function j(e,t,n){var r=(e=e||{}).className||"";return e.className+=" gu-hide",n=Z.elementFromPoint(t,n),e.className=r,n}function R(){return!1}function U(){return!0}function W(e){return e.width||e.right-e.left}function H(e){return e.height||e.bottom-e.top}function K(e){return e.parentNode===Z?null:e.parentNode}function z(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&("false"!==t.contentEditable&&("true"===t.contentEditable||e(K(t))))}(e)}function V(t){return t.nextElementSibling||function(){for(var e=t;(e=e.nextSibling)&&1!==e.nodeType;);return e}()}function $(e,t){t=(n=t).targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n;var n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in t)&&n[e]in t&&(e=n[e]),t[e]}var G=e("contra/emitter"),J=e("crossvent"),Q=e("./classes"),Z=document,ee=Z.documentElement;t.exports=function(e,t){function o(e){return-1!==Y.containers.indexOf(e)||B.isContainer(e)}function n(e){k(ee,e=e?"remove":"add","mousedown",c),k(ee,e,"mouseup",m)}function i(e){k(ee,e?"remove":"add","mousemove",s)}function a(e){J[e=e?"remove":"add"](ee,"selectstart",r),J[e](ee,"click",r)}function r(e){P&&e.preventDefault()}function c(e){var t,n;q=e.clientX,O=e.clientY,1!==D(e)||e.metaKey||e.ctrlKey||(n=l(t=e.target))&&(P=n,i(),"mousedown"===e.type&&(z(t)?t.focus():e.preventDefault()))}function s(e){if(P)if(0!==D(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-q)<=(B.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-O)<=(B.slideFactorY||0))){if(B.ignoreInputTextSelection){var t=$("clientX",e)||0,n=$("clientY",e)||0;if(z(Z.elementFromPoint(t,n)))return}n=P,i(!0),a(),d(),u(n),n={left:(r=(r=x).getBoundingClientRect()).left+F("scrollLeft","pageXOffset"),top:r.top+F("scrollTop","pageYOffset")},E=$("pageX",e)-n.left,C=$("pageY",e)-n.top,Q.add(N||x,"gu-transit"),function(){if(!T){var e=x.getBoundingClientRect();(T=x.cloneNode(!0)).style.width=W(e)+"px",T.style.height=H(e)+"px",Q.rm(T,"gu-transit"),Q.add(T,"gu-mirror"),B.mirrorContainer.appendChild(T),k(ee,"add","mousemove",b),Q.add(B.mirrorContainer,"gu-unselectable"),Y.emit("cloned",T,x,"mirror")}}(),b(e)}}else m({});var r}function l(e){if(!(Y.dragging&&T||o(e))){for(var t=e;K(e)&&!1===o(K(e));){if(B.invalid(e,t))return;if(!(e=K(e)))return}var n=K(e);if(n&&!B.invalid(e,t)&&B.moves(e,n,t,V(e)))return{item:e,source:n}}}function u(e){var t,n;t=e.item,n=e.source,("boolean"==typeof B.copy?B.copy:B.copy(t,n))&&(N=e.item.cloneNode(!0),Y.emit("cloned",N,e.item,"copy")),S=e.source,x=e.item,I=A=V(e.item),Y.dragging=!0,Y.emit("drag",x,S)}function d(){var e;Y.dragging&&v(e=N||x,K(e))}function f(){i(!(P=!1)),a(!0)}function m(e){var t,n;f(),Y.dragging&&(t=N||x,n=$("clientX",e)||0,e=$("clientY",e)||0,(e=_(j(T,n,e),n,e))&&(N&&B.copySortSource||!N||e!==S)?v(t,e):(B.removeOnSpill?p:h)())}function v(e,t){var n=K(e);N&&B.copySortSource&&t===S&&n.removeChild(x),y(t)?Y.emit("cancel",e,S,S):Y.emit("drop",e,t,S,A),g()}function p(){var e,t;Y.dragging&&((t=K(e=N||x))&&t.removeChild(e),Y.emit(N?"cancel":"remove",e,t,S),g())}function h(e){var t,n,r;Y.dragging&&(t=0<arguments.length?e:B.revertOnSpill,!1===(e=y(r=K(n=N||x)))&&t&&(N?r&&r.removeChild(N):S.insertBefore(n,I)),e||t?Y.emit("cancel",n,S,S):Y.emit("drop",n,r,S,A),g())}function g(){var e=N||x;f(),T&&(Q.rm(B.mirrorContainer,"gu-unselectable"),k(ee,"remove","mousemove",b),K(T).removeChild(T),T=null),e&&Q.rm(e,"gu-transit"),M&&clearTimeout(M),Y.dragging=!1,X&&Y.emit("out",e,X,S),Y.emit("dragend",e),S=x=N=I=A=M=X=null}function y(e,t){return t=void 0!==t?t:T?A:V(N||x),e===S&&t===I}function _(t,n,r){for(var i=t;i&&!function(){if(!1===o(i))return!1;var e=w(i,t);e=L(i,e,n,r);return!!y(i,e)||B.accepts(x,i,S,e)}();)i=K(i);return i}function b(e){function t(e){Y.emit(e,a,X,S)}if(T){e.preventDefault();var n=$("clientX",e)||0,r=$("clientY",e)||0,i=n-E,o=r-C;T.style.left=i+"px",T.style.top=o+"px";var a=N||x,c=null!==(i=_(e=j(T,n,r),n,r))&&i!==X;if(!c&&null!==i||(X&&t("out"),X=i,c&&t("over")),o=K(a),i!==S||!N||B.copySortSource){var s;if(null!==(e=w(i,e)))s=L(i,e,n,r);else{if(!0!==B.revertOnSpill||N)return void(N&&o&&o.removeChild(a));s=I,i=S}(null===s&&c||s!==a&&s!==V(a))&&(A=s,i.insertBefore(a,s),Y.emit("shadow",a,i,S))}else o&&o.removeChild(a)}}function w(e,t){for(var n=t;n!==e&&K(n)!==e;)n=K(n);return n===ee?null:n}function L(i,t,o,a){function n(e){return e?V(t):t}var c="horizontal"===B.direction;return(t!==i?function(){var e=t.getBoundingClientRect();return n(c?o>e.left+W(e)/2:a>e.top+H(e)/2)}:function(){var e,t,n,r=i.children.length;for(e=0;e<r;e++){if(n=(t=i.children[e]).getBoundingClientRect(),c&&n.left+n.width/2>o)return t;if(!c&&n.top+n.height/2>a)return t}return null})()}var T,S,x,E,C,q,O,I,A,N,M;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var P,X=null,B=t||{};void 0===B.moves&&(B.moves=U),void 0===B.accepts&&(B.accepts=U),void 0===B.invalid&&(B.invalid=function(){return!1}),void 0===B.containers&&(B.containers=e||[]),void 0===B.isContainer&&(B.isContainer=R),void 0===B.copy&&(B.copy=!1),void 0===B.copySortSource&&(B.copySortSource=!1),void 0===B.revertOnSpill&&(B.revertOnSpill=!1),void 0===B.removeOnSpill&&(B.removeOnSpill=!1),void 0===B.direction&&(B.direction="vertical"),void 0===B.ignoreInputTextSelection&&(B.ignoreInputTextSelection=!0),void 0===B.mirrorContainer&&(B.mirrorContainer=Z.body);var Y=G({containers:B.containers,start:function(e){(e=l(e))&&u(e)},end:d,cancel:h,remove:p,destroy:function(){n(!0),m({})},canMove:function(e){return!!l(e)},dragging:!1});return!0===B.removeOnSpill&&Y.on("over",function(e){Q.rm(e,"gu-hide")}).on("out",function(e){Y.dragging&&Q.add(e,"gu-hide")}),n(),Y}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){var r=e("ticky");t.exports=function(e,t,n){e&&r(function(){e.apply(n||null,t||[])})}},{ticky:10}],5:[function(e,t,n){var c=e("atoa"),s=e("./debounce");t.exports=function(i,e){var o=e||{},a={};return void 0===i&&(i={}),i.on=function(e,t){return a[e]?a[e].push(t):a[e]=[t],i},i.once=function(e,t){return t._once=!0,i.on(e,t),i},i.off=function(e,t){var n=arguments.length;if(1===n)delete a[e];else if(0===n)a={};else{if(!(e=a[e]))return i;e.splice(e.indexOf(t),1)}return i},i.emit=function(){var e=c(arguments);return i.emitterSnapshot(e.shift()).apply(this,e)},i.emitterSnapshot=function(r){var e=(a[r]||[]).slice(0);return function(){var t=c(arguments),n=this||i;if("error"===r&&!1!==o.throws&&!e.length)throw 1===t.length?t[0]:t;return e.forEach(function(e){o.async?s(e,t,n):e.apply(n,t),e._once&&i.off(r,e)}),i}},i}},{"./debounce":4,atoa:3}],6:[function(n,r,e){(function(l){function u(e,t,n){if(t=function(e,t,n){var r,i;for(r=0;r<d.length;r++)if((i=d[r]).element===e&&i.type===t&&i.fn===n)return r}(e,t,n))return n=d[t].wrapper,d.splice(t,1),n}var o=n("custom-event"),a=n("./eventmap"),c=l.document,e=function(e,t,n,r){return e.addEventListener(t,n,r)},t=function(e,t,n,r){return e.removeEventListener(t,n,r)},d=[];l.addEventListener||(e=function(e,t,n){return e.attachEvent("on"+t,(s=u(r=e,i=t,o=n)||(a=r,c=o,function(e){var t=e||l.event;t.target=t.target||t.srcElement,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.which=t.which||t.keyCode,c.call(a,t)}),d.push({wrapper:s,element:r,type:i,fn:o}),s));var r,i,o,a,c,s},t=function(e,t,n){if(n=u(e,t,n))return e.detachEvent("on"+t,n)}),r.exports={add:e,remove:t,fabricate:function(e,t,n){var r,i=-1===a.indexOf(t)?new o(t,{detail:n}):(c.createEvent?(r=c.createEvent("Event")).initEvent(t,!0,!0):c.createEventObject&&(r=c.createEventObject()),r);e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,i,t){(function(e){var t=[],n="",r=/^on/;for(n in e)r.test(n)&&t.push(n.slice(2));i.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,t){(function(e){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?t:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(){v&&f&&(v=!1,f.length?m=f.concat(m):p=-1,m.length&&c())}function c(){if(!v){var e=o(a);v=!0;for(var t=m.length;t;){for(f=m,m=[];++p<t;)f&&f[p].run();p=-1,t=m.length}f=null,v=!1,function(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,d;t=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,m=[],v=!1,p=-1;t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new s(e,t)),1!==m.length||v||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=l,t.addListener=l,t.once=l,t.off=l,t.removeListener=l,t.removeAllListeners=l,t.emit=l,t.prependListener=l,t.prependOnceListener=l,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],10:[function(e,n,t){(function(t){var e="function"==typeof t?function(e){t(e)}:function(e){setTimeout(e,0)};n.exports=e}).call(this,e("timers").setImmediate)},{timers:11}],11:[function(s,e,l){(function(e,t){function n(e,t){this._id=e,this._clearFn=t}var r=s("process/browser.js").nextTick,i=Function.prototype.apply,o=Array.prototype.slice,a={},c=0;l.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},l.setImmediate="function"==typeof e?e:function(e){var t=c++,n=!(arguments.length<2)&&o.call(arguments,1);return a[t]=!0,r(function(){a[t]&&(n?e.apply(null,n):e.call(null),l.clearImmediate(t))}),t},l.clearImmediate="function"==typeof t?t:function(e){delete a[e]}}).call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)}),document.addEventListener("DOMContentLoaded",function(){function l(e,t){if(e.childElementCount!=p){var n=document.createElement("div"),r=["card--fire","card--water","card--earth"],i=function(e,t,n){var r=new Array(t),i=0;do{for(var o=0;o<t;o++)r[o]=Math.random();i=r.reduce(function(e,t){return e+t},0);var a=(e-t)/i;r=r.map(function(e){return Math.min(n,Math.round(e*a)+1)}),i=r.reduce(function(e,t){return e+t},0)}while(i-e);return r}(20,4,9),o='<div class="card__inner"> <div class="card__front"> <div class="card__dmg"> <div class="card__dmg-top">'+i[0]+'<div class="card__dmg-element"></div></div> <div class="card__dmg-right">'+i[1]+'<div class="card__dmg-element"></div></div> <div class="card__dmg-bottom">'+i[2]+'<div class="card__dmg-element"></div></div> <div class="card__dmg-left">'+i[3]+'<div class="card__dmg-element"></div></div> </div> </div> <div class="card__back"> <div class="card__dmg"> <div class="card__dmg-top">'+i[0]+'<div class="card__dmg-element"></div></div> <div class="card__dmg-right">'+i[1]+'<div class="card__dmg-element"></div></div> <div class="card__dmg-bottom">'+i[2]+'<div class="card__dmg-element"></div></div> <div class="card__dmg-left">'+i[3]+'<div class="card__dmg-element"></div></div></div></div></div>';n.classList.add("card"),n.classList.add("card--"+t),f&&n.classList.add(r[Math.floor(Math.random()*r.length)]),n.innerHTML=o,e.appendChild(n)}}function i(e,t){e.classList.add("card--dropped"),E.containers.splice(E.containers.indexOf(t),1),C.containers.splice(C.containers.indexOf(t),1),function(e,t){var n=g(e),r=Array.prototype.indexOf.call(x,t),i=y(x,r,_)[0],o=y(x,r,_)[1],a=y(x,r,_)[2],c=y(x,r,_)[3];if(i)var s=i.querySelector(".card");if(o)var l=o.querySelector(".card");if(a)var u=a.querySelector(".card");if(c)var d=c.querySelector(".card");if(s){var f=g(s);n[5]!=f[5]&&n[0]>=f[2]&&h(s)}if(l){var m=g(l);n[5]!=m[5]&&n[1]>=m[3]&&h(l)}if(u){var v=g(u);n[5]!=v[5]&&n[2]>=v[0]&&h(u)}if(d){var p=g(d);n[5]!=p[5]&&n[3]>=p[1]&&h(d)}}(e,t)}function h(e,t){e.classList.toggle("card--flipped"),e.classList.contains("card--red")?(e.classList.remove("card--red"),e.classList.add("card--blue")):(e.classList.remove("card--blue"),e.classList.add("card--red"))}function o(){if(1==E.containers.length&&1==C.containers.length){w=!0,s.classList.remove("main__aside--active"),L.classList.remove("main__aside--active");var e=document.querySelectorAll(".battlefield__slot--red").length,t=document.querySelectorAll(".battlefield__slot--blue").length;alert("Player A:"+e),alert("Player B:"+t),t<e?alert("Player A Wins"):e<t?alert("Player B Wins"):alert("Draw!")}}function a(){var e=document.querySelectorAll(".battlefield__slot");return e.forEach(function(e){var t=e.querySelectorAll(".card")[0];t&&(e.classList.add("battlefield__slot--filled"),t.classList.contains("card--red")?(e.classList.add("battlefield__slot--red"),e.classList.remove("battlefield__slot--blue")):(e.classList.add("battlefield__slot--blue"),e.classList.remove("battlefield__slot--red")))}),e}function e(e){e.classList.contains("phase--1")?(e.classList.remove("phase--1"),e.classList.add("phase--2")):e.classList.contains("phase--2")?(e.classList.remove("phase--2"),e.classList.add("phase--3")):e.classList.contains("phase--3")?(e.classList.remove("phase--3"),e.classList.add("phase--4")):e.classList.contains("phase--4")?(e.classList.remove("phase--4"),e.classList.remove("phase--active")):(e.classList.add("phase--1"),e.classList.add("phase--active"))}function c(){w||(s.classList.contains("main__aside--active")?(s.classList.remove("main__aside--active"),L.classList.add("main__aside--active"),l(S,"blue")):(L.classList.remove("main__aside--active"),s.classList.add("main__aside--active"),l(T,"red")),u(v))}function u(e){s.classList.contains("main__aside--active")?(n.classList.add("button__countdown-progress--red"),n.classList.remove("button__countdown-progress--blue")):(n.classList.add("button__countdown-progress--blue"),n.classList.remove("button__countdown-progress--red")),window.clearTimeout(r),n.classList.remove("button__countdown-progress--animating"),n.offsetWidth,w?n.className="button__countdown-progress":(r=setTimeout(function(){c()},e),n.style.animationDuration=e+"ms",n.classList.add("button__countdown-progress--animating"))}function d(e){var t=document.createElement("div");t.classList.add("battlefield__slot"),b.appendChild(t)}function g(e){var t=[];return t.push(e.querySelector(".card__dmg-top").innerText),t.push(e.querySelector(".card__dmg-right").innerText),t.push(e.querySelector(".card__dmg-bottom").innerText),t.push(e.querySelector(".card__dmg-left").innerText),e.classList.contains("card--fire")?t.push("fire"):e.classList.contains("card--water")?t.push("water"):e.classList.contains("card--earth")?t.push("earth"):t.push(null),e.classList.contains("card--red")?t.push("red"):t.push("blue"),t}function y(e,t,n){var r=[],i=n.split("")[0],o=n.split("")[2];i=parseInt(i,10),o=parseInt(o,10),t=parseInt(t,10);var a=0===Math.floor(t/i),c=(t+1)%i==0,s=Math.floor(t/i)===o-1,l=t%i==0;return a?r.push(null):r.push(e.item(t-i)),c?r.push(null):r.push(e.item(t+1)),s?r.push(null):r.push(e.item(t+i)),l?r.push(null):r.push(e.item(t-1)),r}var _="2x2",f=!0,m=!1,v=3e3,p=3,b=document.querySelector(".battlefield"),t=document.querySelector(".button--end-turn"),n=document.querySelector(".button--end-turn .button__countdown-progress"),r=null,w=null,s=document.querySelector(".main__aside--left"),L=document.querySelector(".main__aside--right"),T=document.querySelector(".main__aside--left .card-pool"),S=document.querySelector(".main__aside--right .card-pool");!function(e,t,n,r,i){var o,a,c;if(w=null,f=r,m=i,_=n,startingPlayer=(o=document.querySelector(".coin"),a=document.querySelector(".overlay"),c=Math.random(),o.classList.remove("heads"),o.classList.remove("tails"),setTimeout(function(){c<=.5?o.classList.add("heads"):o.classList.add("tails")},100),setTimeout(function(){o.classList.add("hidden")},3e3),setTimeout(function(){a.classList.add("overlay--hidden")},3500),setTimeout(function(){a.remove(),u(v)},3650),c<=.5?"playerA":"playerB"),"2x2"==_){b.classList.add("battlefield--2x2");for(var s=1;s<5;s++)d()}if("3x2"==_)for(b.classList.add("battlefield--3x2"),s=1;s<7;s++)d();if("4x2"==_)for(b.classList.add("battlefield--4x2"),s=1;s<9;s++)d();if("3x3"==_)for(b.classList.add("battlefield--3x3"),s=1;s<10;s++)d();if("4x3"==_)for(b.classList.add("battlefield--4x3"),s=1;s<13;s++)d();if("4x4"==_)for(b.classList.add("battlefield--4x4"),s=1;s<17;s++)d();setTimeout(function(){for(var e=1;e<p+1;e++)l(T,"red")},3650),e.scrollTop=0,setTimeout(function(){for(var e=1;e<p+1;e++)l(S,"blue")},3650),t.scrollTop=0,"playerA"==startingPlayer?e.classList.add("main__aside--active"):t.classList.add("main__aside--active")}(s,L,_,f,m);var x=document.querySelectorAll(".battlefield__slot"),E=dragula([T].concat(Array.from(x)),q),C=dragula([S].concat(Array.from(x)),q),q={isContainer:function(e){return!1},moves:function(e,t,n,r){return!0},accepts:function(e,t,n,r){return!0},invalid:function(e,t){return!1},direction:"vertical",copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,mirrorContainer:document.body,ignoreInputTextSelection:!0,slideFactorX:0,slideFactorY:0};E.on("drag",function(e,t){}),C.on("drag",function(e,t){}),E.on("drop",function(e,t,n,r){t!=n&&(i(e,t),a(),o(),c())}),C.on("drop",function(e,t,n,r){t!=n&&(i(e,t),a(),o(),c())}),t.addEventListener("click",function(){c()});var O=document.querySelector(".footer__aside--left .phase"),I=document.querySelector(".footer__aside--right .phase");O.addEventListener("click",function(){e(O)}),I.addEventListener("click",function(){e(I)})});